\section{Sústavy lineárnych rovníc}

\begin{definition}[Lineárna rovnica nad $\mathbb{R}$]
Lineárna rovnica o $n$ neznámych je rovnica tvaru
$$ (*) \quad a_{1}x_{1} + \dots + a_{n}x_{n} = c $$
kde $n \ge 1, n \in \mathbb{N}$. Koeficienty $a_1, \dots, a_n, c$ sú dané prvky $\mathbb{R}$. Riešenie tejto rovnice je taká $n$-tica $(x_1, \dots, x_n) \in \mathbb{R}^n$, že po dosadení do (*) je vzniknutý výrok pravdivý.
\end{definition}

\begin{example}
Daná je rovnica $3x_{1} + 2x_{2} + (-1)x_{3} = 7$, ktorú zvyčajne zapisujeme ako
$$ 3x_{1} + 2x_{2} - x_{3} = 7 $$
Niektoré jej riešenia sú napríklad $(x_{1}, x_{2}, x_{3}) = (1, 2, 0)$ alebo $(x_{1}, x_{2}, x_{3}) = (0, 0, -7)$. Táto rovnica má nekonečne veľa riešení.
\end{example}

\begin{definition}[Sústava lineárnych rovníc]
Sústava $m$ lineárnych rovníc o $n$ neznámych nad $\mathbb{R}$ je usporiadaná
$m$-tica rovníc o $n$ neznámych nad $\mathbb{R}$, kde $m, n \ge 1$. Neznáme sú
rovnaké pre všetky rovnice.
\end{definition}

\begin{equation}\label{eq:sustava}
\begin{array}{ccccccccc}
a_{11}x_{1} & + & a_{12}x_{2} & + & \dots & + & a_{1n}x_{n} & = & c_{1} \\
a_{21}x_{1} & + & a_{22}x_{2} & + & \dots & + & a_{2n}x_{n} & = & c_{2} \\
\vdots & & \vdots & & \ddots & & \vdots & & \vdots \\
a_{m1}x_{1} & + & a_{m2}x_{2} & + & \dots & + & a_{mn}x_{n} & = & c_{m}
\end{array}
\end{equation}

Riešenie sústavy je taká usporiadaná $n$-tica $(x_{1}, x_{2}, \dots, x_{n}) \in \mathbb{R}^{n}$, ktorá je riešením každej rovnice v sústave.

\begin{example}\label{ex:malaSustava}
Uvažujme sústavu rovníc:
\begin{align*}
    3x_1 + x_2 &= 1 \\
    x_1 - x_2 &= -5
\end{align*}
Ideme sa pokúsiť nájsť jej riešenie. Pripočítajme prvú rovnicu k druhej.
\begin{align*}
    3x_1 + x_2 &= 1 \\
    4x_1 - 0 &= -4
\end{align*}
Vynásobme druhú rovnicu číslom $\frac{1}{4}$.
\begin{align*}
    3x_1 + x_2 &= 1 \\
    x_1 - 0 &= -1
\end{align*}
Teraz už vieme, že $x_1=-1$, môžeme dosadiť túto hodnotu do prvej rovnice
a vyjadriť $x_2$. Ale môžeme postupovať aj ďalej a napríklad pripočítať
$-3$-násobok druhej rovnice k prvej.
V každom prípade, jediným riešením je $x_1 = -1$ a $x_2 = 4$.
\end{example}

Čo sme robili? Menili sme sústavu tak, aby zmenená sústava mala rovnakú množinu
riešení. Transformujeme teda v každom problém na iný, jednoduchší. Ale najviac
dôležité pri tom je to, že vždy tak, aby sa množina všetkých riešení nezmenila.
Aké úpravy môžeme robiť so sústavou lineárnych rovníc tak, aby sa nezmenila množina
všetkých riešení?

Môžeme napríklad:
\begin{enumerate}
    \item vymeniť dve rovnice v sústave medzi sebou
    \item vynásobiť rovnicu nenulovou konštantou (prečo nenulovou?)
    \item pripočítať ľubovoľný násobok jednej rovnice k druhej rovnici
\end{enumerate}

\subsection{Matice: základná terminológia a označenia}

Matica je typu $m\times n$ ($m,n\in\mathbb N)$ je obdĺžniková tabuľka reálnych čísel,
ktorá má $m$ riadkov a $n$ stĺpcov. Matice označujeme veľkými písmenami.
Všeobecnú maticu $A$ typicky zapisujeme napríklad takto:
\begin{equation}\label{eq:matrix}
A=
\left(
\begin{array}{cccc}
    a_{11} & a_{12} & \dots & a_{1n} \\
    a_{21} & a_{22} & \dots & a_{2n} \\
    \vdots & \vdots & \ddots & \vdots \\
    a_{m1} & a_{m2} & \dots & a_{mn}
\end{array}
\right)
\end{equation}
Konvencia je, že prvý index v $a_{ij}$ je číslo riadku a  
druhý je číslo stĺpca. Všimnime si, že \eqref{eq:matrix} obsahuje v zásade iba
informácie, že
\begin{itemize}
\item Matica sa volá $A$,
\item jej prvky sú značené $a_{ij}$,
\item jej typ je $m\times n$.
\end{itemize}
Toto budeme niekedy zapisovať krátko ako
\[
A=
\left(
\begin{array}{c}
a_{ij}
\end{array}
\right)_{m\times n}
\]


\subsection{Zápis sústavy lineárnych rovníc pomocou matice}

S maticami budeme na lineárnej algebre
pracovať často a budeme opakovane nachádzať ich nové významy. 
Ale v tejto chvíli, pre začiatok, použijeme maticu jednoducho pre zápis systému
lineárnych rovníc. Zapíšeme zo sústavy \eqref{eq:sustava} len to podstatné: koeficienty $(a_ij)$ a
pravú stanu $(c_i)$:
\[
\left( \begin{array}{cccc|c} a_{11} & a_{12} & \dots & a_{1n} & c_{1} \\ a_{21} & a_{22} & \dots & a_{2n} & c_{2} \\ \vdots & \vdots & \ddots & \vdots & \vdots \\ a_{m1} & a_{m2} & \dots & a_{mn} & c_{m} \end{array} \right)
\]

Zvislú stranu použijeme na oddelenie pravej strany. Je to čisto vizuálna pomôcka, nie
je naozaj súčasťou matice. Túto maticu nazývame \emph{rozšírená matica sústavy},
koeficienty $(a_{ij})$ tvoria \emph{maticu sústavy} a stĺpec $(c_i)$ je \emph{pravá
strana}.
$$
\underbrace{
    \overbrace{
        \left(
        \begin{array}{cccc}
            a_{11} & a_{12} & \dots & a_{1n} \\
            a_{21} & a_{22} & \dots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{m1} & a_{m2} & \dots & a_{mn}
        \end{array}
        \right|
    }^{\text{matica sústavy}}
    \overbrace{
        \left.
        \begin{array}{c}
            c_{1} \\
            c_{2} \\
            \vdots \\
            c_{m}
        \end{array}
        \right)
    }^{\text{pravá strana}}
}_{\text{rozšírená matica sústavy}}
$$
Teda sústava $m$ lineárnych rovníc o $n$ neznámych sa bude zapisovať
pomocou matice typu $m\times(n+1)$.

V konkrétnom príklade to vyzerá takto.
Sústava
\begin{align*}
    3x_{1} + 2x_{2} - 7x_{3} &= 14 \\
    -x_{1} \qquad + 4x_{3} &= -7 \\
    \qquad x_{2} + x_{3} &= 0
\end{align*}
sa zapíše maticou
$$ \underbrace{
\overbrace{
\left(
\begin{array}{ccc}
3 & 2 & -7 \\
-1 & 0 & 4 \\
0 & 1 & 1 
\end{array}
\right|
}^{\text{matica sústavy}}
\overbrace{
\left.
\begin{array}{c}
-14 \\
-7 \\
0
\end{array}
\right)
}^{\text{pravá strana}}
}_{\text{rozšírená matica sústavy}}
$$
\subsection{Elementárne riadkové operácie}

Elementárna riadková operácia je zmena matice na inú maticu jedného z nasledujúcich
typov.
\begin{enumerate}
\item Výmena riadkov $k,l$:
\[
% --- First Matrix (before swap) ---
\begin{pmatrix}
a_{11} & \dots & a_{1n} \\
\vdots & \ddots & \vdots \\
% Mark the last element of row k
a_{k1} & \dots & \tikzmarknode{rowk}{a_{kn}} \\
\vdots & \ddots & \vdots \\
% Mark the last element of row l
a_{l1} & \dots & \tikzmarknode{rowl}{a_{ln}} \\
\vdots & \ddots & \vdots \\
a_{m1} & \dots & a_{mn}
\end{pmatrix}
% --- TikZ Arrow (placed after the first matrix) ---
\begin{tikzpicture}[remember picture, overlay]
    % Draw the C-shaped swap arrow
    \draw[<->, thick, shorten <=2pt, shorten >=2pt]
        ([xshift=1em]rowk.east) -- ++(1em,0)
        -- ([xshift=2em]rowl.east) -- ([xshift=1em]rowl.east);
\end{tikzpicture}
% --- Equivalence Symbol with adjusted spacing ---
\hspace{2em} \sim \quad % Increased space before ~ to account for the arrow
% --- Second Matrix (after swap) ---
\begin{pmatrix}
a_{11} & \dots & a_{1n} \\
\vdots & \ddots & \vdots \\
% Row l is now in the k-th position
a_{l1} & \dots & a_{ln} \\
\vdots & \ddots & \vdots \\
% Row k is now in the l-th position
a_{k1} & \dots & a_{kn} \\
\vdots & \ddots & \vdots \\
a_{m1} & \dots & a_{mn}
\end{pmatrix}
\]
\item Pripočítanie $\alpha$-násobku riadku $k$ k riadku $l$, kde $\alpha\in\mathbb
R$.
\[
% --- First Matrix (before operation) ---
\begin{pmatrix}
a_{11} & \dots & a_{1n} \\
\vdots & \ddots & \vdots \\
% Mark the last element of row k (the source row)
a_{k1} & \dots & \tikzmarknode{rowk}{a_{kn}} \\
\vdots & \ddots & \vdots \\
% Mark the last element of row l (the target row)
a_{l1} & \dots & \tikzmarknode{rowl}{a_{ln}} \\
\vdots & \ddots & \vdots \\
a_{m1} & \dots & a_{mn}
\end{pmatrix}
% --- TikZ Arrow for the operation ---
\begin{tikzpicture}[remember picture, overlay]
    % Draw an arrow from row k to row l with an unboxed alpha
    \draw[->, thick, shorten >=2pt]
        % Start a bit right of row k
        ([xshift=1.5em]rowk.east)
        % Draw a line to the right, and mark the corner
        -- ++(1em,0) coordinate (corner)
        % Draw a vertical line down to the level of row l
        -- (corner |- rowl.east)
        % Place the alpha to the right of the vertical line
        node [midway, right] {$\alpha$}
        % Draw the final segment pointing to row l
        -- ([xshift=1.5em]rowl.east);
\end{tikzpicture}
% --- Equivalence Symbol with adjusted spacing ---
\hspace{3em} \sim \quad
% --- Second Matrix (after operation) ---
\begin{pmatrix}
a_{11} & \dots & a_{1n} \\
\vdots & \ddots & \vdots \\
% Row k remains unchanged
a_{k1} & \dots & a_{kn} \\
\vdots & \ddots & \vdots \\
% Row l is updated: R_l <- R_l + alpha * R_k
a_{l1} + \alpha a_{k1} & \dots & a_{ln} + \alpha a_{kn} \\
\vdots & \ddots & \vdots \\
a_{m1} & \dots & a_{mn}
\end{pmatrix}
\]
\item Vynásobenie riadku $k$ číslom $\beta\in\mathbb R$, kde $\beta\neq 0$.
\[
% --- First Matrix (before operation) ---
\begin{pmatrix}
a_{11} & \dots & a_{1n} \\
\vdots & \ddots & \vdots \\
% Mark the last element of row k (the row being modified)
a_{k1} & \dots & \tikzmarknode{rowk}{a_{kn}} \\
\vdots & \ddots & \vdots \\
a_{m1} & \dots & a_{mn}
\end{pmatrix}
% --- TikZ Arrow for the operation ---
\begin{tikzpicture}[remember picture, overlay]
    % 1. Define the start and end coordinates for the arrow.
    \coordinate (arrow_start) at ([xshift=3.5em]rowk.east);
    \coordinate (arrow_end)   at ([xshift=1.5em]rowk.east);

    % 2. Draw the arrow between these points.
    \draw[->, thick, shorten >=2pt] (arrow_start) -- (arrow_end);

    % 3. Place the beta node slightly to the right of the arrow's start.
    \node[right=2pt] at (arrow_start) {$\beta$};
\end{tikzpicture}
% --- Equivalence Symbol with adjusted spacing ---
\hspace{4em} \sim \quad
% --- Second Matrix (after operation) ---
\begin{pmatrix}
a_{11} & \dots & a_{1n} \\
\vdots & \ddots & \vdots \\
% Row k is updated: R_k <- beta * R_k
\beta a_{k1} & \dots & \beta a_{kn} \\
\vdots & \ddots & \vdots \\
a_{m1} & \dots & a_{mn}
\end{pmatrix}
\]
\end{enumerate}
\begin{definition}
Hovoríme, že dve matice $A$, $B$ rovnakého typu sú \emph{riadkovo ekvivalentné},
ak existuje postupnosť elementárnych riadkových operácií, ktorou sa dá $A$ upraviť na
$B$.
\end{definition}
Elementárne riadkové operácie sú pre nás v tejto chvíli dôležité kvôli nasledujúcej
vete.
\begin{veta}\label{veta:sustavyMatice}
Dve sústavy $m$ lineárnych rovníc o $n$ neznámych majú rovnakú množinu riešení práve
vtedy keď sú ich rozšírené matice riadkovo ekvivalentné.
\end{veta}

Preto pri riešení sústavy lineárnych rovníc môžeme použiť nasledujúcu stratégiu:
\begin{enumerate}[(Krok 1)]
\item Napíšeme si rozšírenú maticu sústavy.
\item Pomocou elementárnych riadkových operácií maticu upravíme na jednoduchší tvar.
\item Nájdeme riešenie tej sústavy, ktorá zodpovedá tomuto jednoduchšiemu tvaru.
\end{enumerate}
Veta \ref{veta:sustavyMatice} nám hovorí, že tento postup je korektný.

Otázka je, čo budeme považovať za jednoduchší tvar; bude to takzvaný
\emph{stupňovitý tvar}, ktorý je naznačený na nasledujúcom obrázku.
\[
\left(
\begin{array}{ccccccccccc}
    0 & \cdots & 0 & \bullet &?& \cdots & \cdots & \cdots & \cdots & \cdots & ? \\
    0 & \cdots & 0 & 0 & 0 & \bullet &?& \cdots & \cdots & \cdots & ? \\
    \vdots & \ddots& \vdots & \vdots &\vdots&\vdots & \vdots & \vdots & \vdots & \vdots & \vdots \\
    0 & \cdots & 0 & 0 & 0 & 0 & 0& \cdots & 0 & \bullet & ? \\
    0 & \cdots & 0 & 0 & 0 & 0 &0 & \cdots & 0 & 0 & 0
\end{array}
\right)
\]
V tomto obrázku $\bullet$ znamená nenulový prvok (rôzny od 0), a prvok $?$ môže byť
ľubovoľný.

\begin{definition}[vedúci prvok riadku]\label{def:veduciPrvok}
Ak A je matica typu $m \times n$, potom vedúci prvok i-teho riadku matice je
najľavejší nenulový prvok toho riadku: $a_{ij} \ne 0$ a zároveň $a_{il} = 0$ pre
všetky $1 \le l < j$.
\end{definition}

\begin{definition}
Hovoríme, že matica A typu $m \times n$ je v stupňovitom tvare, ak
\begin{enumerate}[(a)]
    \item Ak $r_i(A) \ne (0, \dots, 0)$ a zároveň $r_k(A) = (0, \dots, 0)$, potom $i < k$. 
    \begin{framed}
    Každý nenulový riadok je nad každým nulovým riadkom.
    \end{framed}
    \item Ak $a_{ij}$ je vedúci prvok i-teho riadku a $a_{kl}$ je vedúci prvok k-teho
    riadku a $i<k$ potom aj $j<l$. 
    \begin{framed}
    Vedúci prvok vyššieho riadku leží viac vľavo ako
    vedúci prvok nižšieho riadku.
    \end{framed}
\end{enumerate}
\end{definition}
\begin{example}
\[
\begin{array}{rl}
\begin{pmatrix} 1 & 7 & 0 & -1 & 2 \\ 0 & 0 & 0 & 0 & 0 \\ 0 & 1 & 1 & -1 & 0
\end{pmatrix} & 
\quad \text{nie je v stupňovitom tvare (prečo?)} \\~\\
\begin{pmatrix} 0 & 1 & 2 & 3 & 4 \\ 0 & 0 & -1 & 0 & 1 
\end{pmatrix} &
\quad\text{je v stupňovitom tvare}\\~\\
\begin{pmatrix} 0 & 0 & 1 & 3 & 7 \\ 0 & 0 & 1 & 0 & 1 \\ 0 & 0 & 0 & 1 & 0
\end{pmatrix} &
\quad \text{nie je v stupňovitom tvare (prečo?)} \\~\\
\begin{pmatrix} 1 & 0 & 3 & 7 & 0 \\ 0 & 0 & 1 & 7 & 4 \\ 0 & 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 
\end{pmatrix} &
\quad\text{je v stupňovitom tvare}
\end{array}
\]
\end{example}
